# Implementation Plan: Premium UX Overhaul

**Branch**: `001-premium-ux-overhaul` | **Date**: 2026-02-18 | **Spec**: [spec.md](./spec.md)  
**Input**: Feature specification from `/specs/001-premium-ux-overhaul/spec.md`

**Note**: This plan was generated by the `/speckit.plan` command. See research.md, data-model.md, contracts/, and quickstart.md for detailed artifacts.

## Summary

Transform the Interna Virtual platform from a functional tool collection into a premium, cohesive user experience. This involves: (1) unifying the visual language with a liquid glass design system built on Shadcn UI, (2) creating a dashboard command center with personalized content, progress tracking, and feature discovery, (3) adding gamification (XP, levels, badges, streaks), (4) polishing all existing features (project workspace, interviews, code reviews) with skeleton loading, auto-save, and activity logging, and (5) ensuring mobile responsiveness across all flows.

## Technical Context

**Language/Version**: TypeScript 5.x (strict mode), Python 3.11  
**Primary Dependencies**: Next.js 14.2.x (App Router), Tailwind CSS v4, Shadcn UI, Lucide React, Framer Motion (motion/react), FastAPI, LangChain, Recharts (NEW)  
**Storage**: PostgreSQL via Drizzle ORM (frontend), asyncpg (backend)  
**Testing**: Manual testing (hackathon mode), critical path verification  
**Target Platform**: Web (responsive: 375px - 1920px+)  
**Project Type**: Web application (Next.js frontend + FastAPI backend)  
**Performance Goals**: All pages load primary content within 2 seconds, AI responses within 5 seconds  
**Constraints**: < 2s page load, mobile-first responsive, consistent design language across all 16+ pages  
**Scale/Scope**: 16 existing pages, ~55 existing components, 7 backend endpoints, 3 new DB tables

## Constitution Check

*GATE: Must pass before Phase 0 research. Re-check after Phase 1 design.*

The project constitution is unconfigured (template state). Using the user's global rules as the governing document:

| Gate | Rule | Status |
|------|------|--------|
| Tech Stack | Next.js 14.2.x, Tailwind CSS v4, Shadcn UI, Lucide React | PASS -- all used |
| TypeScript Strict | TypeScript in strict mode | PASS |
| Mobile-First | Responsive by default, every component mobile/tablet/desktop | PASS -- FR-011 addresses this |
| Server Actions | Server Actions for mutations, no client-side direct DB | PASS -- all new data ops are Server Actions |
| Shadcn Components | Use Shadcn for consistency | PASS -- adding 11 new Shadcn components |
| Font Loading | next/font/google ONLY | PASS -- already configured |
| No node_modules in git | Never commit node_modules | PASS |
| KISS Principle | Simplest solution wins | PASS -- leveraging existing patterns, no new frameworks |

**Post-Phase 1 Re-check**: PASS -- data model uses existing Drizzle ORM patterns, no new architectural layers introduced. All new tables follow established schema conventions.

## Project Structure

### Documentation (this feature)

```text
specs/001-premium-ux-overhaul/
  plan.md              # This file
  spec.md              # Feature specification (7 user stories)
  research.md          # Phase 0: 8 research decisions
  data-model.md        # Phase 1: Entity model with 3 new tables
  quickstart.md        # Phase 1: Setup and build guide
  contracts/
    api-contracts.md   # Phase 1: API endpoints and Server Actions
  checklists/
    requirements.md    # Spec validation checklist (all passed)
```

### Source Code (repository root)

```text
# Frontend (Next.js)
src/
  app/
    (auth)/             # Login, Signup, Onboarding pages
    (dashboard)/
      actions.ts        # Server Actions (getDashboardData, logActivity, etc.)
      dashboard/        # Dashboard home page
      code-review/      # Standalone code review tool
      ide/              # IDE page
      sandbox/          # Review results sandbox
      layout.tsx        # Dashboard layout with sidebar
    page.tsx            # Landing page

  components/
    ui/                 # Shadcn base components (existing + 11 new)
    dashboard/          # Dashboard-specific components
      ContinueSection.tsx     # NEW
      DiscoverSection.tsx     # NEW
      ActivityTimeline.tsx    # NEW
      SkillsRadar.tsx         # NEW
      ProgressHero.tsx        # NEW
      BadgeGrid.tsx           # NEW
      GlassSkeleton.tsx       # NEW
      EmptyState.tsx          # NEW
    project/            # Project workspace components
    dashboard/interviewer/  # Interview-specific components
    landing/            # Landing page sections

  infrastructure/
    database/
      schema/
        activity-log.ts        # NEW table
        skill-scores.ts        # NEW table
        interview-sessions.ts  # NEW table
        index.ts               # Updated exports

  lib/
    xp.ts              # NEW: XP calculation and level-up logic
    achievements.ts    # NEW: Achievement checking logic

# Backend (FastAPI) -- No changes needed for this feature
backend/
  api/main.py
  application/
  domain/
  infrastructure/
```

**Structure Decision**: Web application pattern. Frontend-heavy feature (all new components and data access are in Next.js). Backend remains unchanged -- all existing endpoints are sufficient. New data operations use Next.js Server Actions with Drizzle ORM.

## Complexity Tracking

No constitution violations found. All decisions align with the established tech stack and patterns.

## Implementation Phases Summary

| Phase | Name | Priority | Scope | Estimated Effort |
|-------|------|----------|-------|-----------------|
| A | Design System Foundation | P3 | GlassSkeleton, EmptyState, CSS | 1-2 hours |
| B | Dashboard Command Center | P1 | Server Actions, 5 new components, rewrite dashboard | 3-4 hours |
| C | Progress & Gamification | P2 | DB schema, Server Actions, 3 new components | 2-3 hours |
| D | Project Workspace Polish | P1 | Skeleton loading, auto-save, activity logging | 2-3 hours |
| E | Interview & Review Polish | P2 | Timer, session persistence, report cards | 2-3 hours |
| F | Mobile Responsiveness | P3 | Responsive breakpoints, Sheet component, testing | 2-3 hours |

**Total Estimated Effort**: 12-18 hours (hackathon pace)

---

## Generated Artifacts

| Artifact | Path | Description |
|----------|------|-------------|
| Feature Spec | `specs/001-premium-ux-overhaul/spec.md` | 7 user stories, 15 FRs, 10 SCs |
| Research | `specs/001-premium-ux-overhaul/research.md` | 8 technical decisions resolved |
| Data Model | `specs/001-premium-ux-overhaul/data-model.md` | 3 new tables, XP thresholds, seed badges |
| API Contracts | `specs/001-premium-ux-overhaul/contracts/api-contracts.md` | Server Actions, component architecture |
| Quickstart | `specs/001-premium-ux-overhaul/quickstart.md` | Setup steps and phased build order |
| Requirements Checklist | `specs/001-premium-ux-overhaul/checklists/requirements.md` | 16/16 items passed |
